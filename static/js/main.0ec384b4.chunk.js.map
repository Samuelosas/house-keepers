{"version":3,"sources":["Balance.jsx","RegisterAgency.jsx","BuyAgency.jsx","Card.jsx","App.js","index.js"],"names":["Balance","balance","className","RegisterAgency","register","msg","action","show","setShow","useState","sellable","setSellable","name","setName","imgUrl","setImgUrl","location","setLocation","about","setAbout","hire_fee","setHire_fee","worth","setWorth","disable","setDisable","onRegister","e","preventDefault","console","log","message","Button","variant","onClick","Modal","onHide","Header","closeButton","Title","Alert","Body","Form","onSubmit","Group","controlId","Control","type","placeholder","required","value","onChange","target","as","rows","Check","label","disabled","Footer","BuyAgency","isSellable","buyAgency","index","name_","imgUrl_","about_","onBuy","size","Label","checked","Card","image","hire_amount","agency_worth","hire","owner","Img","src","style","width","height","Text","App","deployAddress","kit","setKit","contract","setContract","setMsg","showNotification","setShowNotification","setBalance","actionNotification","setActionNotification","agencies","setAgencies","showApp","setShowApp","connectCeloWallet","window","celo","enable","web3","Web3","kit_","newKitFromWeb3","eth","getAccounts","accounts","defaultAccount","contract_","Contract","housekeepingAbi","getBalance","getTotalBalance","totalBalance","cUSDBalance","cUSD","shiftedBy","toFixed","registerAgency","info","fee","params","BigNumber","toString","methods","send","from","getAgencies_","setTimeout","getAgencies","call","Array","reverse","a","b","approve","_price","cUSDContract","ierc20Abi","result","hireAgency","agency_name","newName","newInfo","newImg","useEffect","Container","Row","map","agency","key","Col","xs","md","order","length","span","agency_info","agency_image","agency_address","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0ec384b4.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nexport const Balance = ({ balance }) => {\r\n  return (\r\n    <div>\r\n      cUSD Balance:{\" \"}\r\n      <span className=\"fw-bold h5 btn btn-secondary\"> {balance}</span>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport Button from \"react-bootstrap/Button\"\r\nimport Modal from \"react-bootstrap/Modal\"\r\nimport { Alert, Form } from \"react-bootstrap\"\r\n\r\nexport const RegisterAgency = ({ register, msg, action, show, setShow }) => {\r\n  const [sellable, setSellable] = useState(false)\r\n  const [name, setName] = useState(\"\")\r\n  const [imgUrl, setImgUrl] = useState(\"\")\r\n  const [location, setLocation] = useState(\"\")\r\n  const [about, setAbout] = useState(\"\")\r\n  const [hire_fee, setHire_fee] = useState()\r\n  const [worth, setWorth] = useState()\r\n  const [disable, setDisable] = useState(false)\r\n\r\n  const handleClose = () => setShow(false)\r\n  const handleShow = () => setShow(true)\r\n  const onRegister = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      setDisable(true)\r\n      await register(name, location, about, imgUrl, sellable, worth, hire_fee)\r\n      setDisable(false)\r\n    } catch (error) {\r\n      console.log(error.message)\r\n      setDisable(false)\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"my-3\">\r\n      <Button variant=\"success\" onClick={handleShow}>\r\n        Register Agency +\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Register Your Agency</Modal.Title>\r\n        </Modal.Header>\r\n        {action && <Alert variant=\"warning\">{msg}</Alert>}\r\n        <Modal.Body>\r\n          <Form onSubmit={onRegister}>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Agency Name\"\r\n                required\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPoster\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Agency Cover Image URL.\"\r\n                required\r\n                value={imgUrl}\r\n                onChange={(e) => setImgUrl(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicLocation\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Location\"\r\n                required\r\n                value={location}\r\n                onChange={(e) => setLocation(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicAbout\">\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                rows={3}\r\n                placeholder=\"Enter What your agency will do.\"\r\n                required\r\n                value={about}\r\n                onChange={(e) => setAbout(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicHire\">\r\n              <Form.Control\r\n                type=\"number\"\r\n                placeholder=\"Enter Hire Fee\"\r\n                required\r\n                value={hire_fee}\r\n                onChange={(e) => setHire_fee(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {sellable && (\r\n              <Form.Group className=\"mb-3\" controlId=\"formBasicWorth\">\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  placeholder=\"Agency's Selling Price\"\r\n                  value={worth}\r\n                  onChange={(e) => setWorth(e.target.value)}\r\n                />\r\n              </Form.Group>\r\n            )}\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\r\n              <Form.Check\r\n                type=\"checkbox\"\r\n                label=\"Is this agency sellable?\"\r\n                value={sellable}\r\n                onChange={() =>\r\n                  sellable ? setSellable(false) : setSellable(true)\r\n                }\r\n              />\r\n            </Form.Group>\r\n            <Button variant=\"primary\" type=\"submit\" disabled={disable}>\r\n              Register\r\n            </Button>\r\n          </Form>\r\n        </Modal.Body>\r\n        <Modal.Footer></Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from \"react\"\r\nimport { Button, Modal, Form, Alert } from \"react-bootstrap\"\r\n\r\nexport const BuyAgency = ({\r\n  name,\r\n  about,\r\n  imgUrl,\r\n  worth,\r\n  isSellable,\r\n  buyAgency,\r\n  index,\r\n}) => {\r\n  const [show, setShow] = useState(false)\r\n  const [name_, setName] = useState(name)\r\n  const [imgUrl_, setImgUrl] = useState(imgUrl)\r\n  const [about_, setAbout] = useState(about)\r\n  const [sellable, setSellable] = useState(isSellable)\r\n  const [disable, setDisable] = useState(false)\r\n\r\n  const handleClose = () => setShow(false)\r\n  const handleShow = () => setShow(true)\r\n  const onBuy = async (e) => {\r\n    e.preventDefault()\r\n    setDisable(true)\r\n    await buyAgency(index, name_, about_, imgUrl_, sellable)\r\n    setDisable(false)\r\n    setShow(false)\r\n  }\r\n  return (\r\n    <>\r\n      {isSellable && (\r\n        <div>\r\n          <Button variant=\"secondary\" size=\"sm\" onClick={handleShow}>\r\n            Buy Agency {worth}cUSD\r\n          </Button>\r\n          <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Buy this Agency</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Form onSubmit={onBuy}>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\r\n                  <Form.Label>Enter preferred Agency Name</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Enter preferred Agency Name\"\r\n                    required\r\n                    value={name_}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPoster\">\r\n                  <Form.Label>\r\n                    Enter preferred Agency Cover Image URL.\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Agency Cover Image URL.\"\r\n                    required\r\n                    value={imgUrl_}\r\n                    onChange={(e) => setImgUrl(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicAbout\">\r\n                  <Form.Label>Enter what this agency will do.</Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={3}\r\n                    placeholder=\"Enter What your agency will do.\"\r\n                    required\r\n                    value={about_}\r\n                    onChange={(e) => setAbout(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\r\n                  <Form.Check\r\n                    type=\"checkbox\"\r\n                    label=\"Do you want to make this agency sellable?\"\r\n                    value={sellable}\r\n                    checked={sellable}\r\n                    onChange={() =>\r\n                      sellable ? setSellable(false) : setSellable(true)\r\n                    }\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Button variant=\"primary\" type=\"submit\" disabled={disable}>\r\n                  Buy Agency {worth}cUSD\r\n                </Button>\r\n                {disable && (\r\n                  <Alert variant=\"warning\" className=\"mt-3\">\r\n                    Awaiting Payment... Please follow The on screen prompts.\r\n                  </Alert>\r\n                )}\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer></Modal.Footer>\r\n          </Modal>\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from \"react\"\r\nimport { Card as BSCard, Button } from \"react-bootstrap\"\r\nimport { BuyAgency } from \"./BuyAgency\"\r\n\r\nexport const Card = ({\r\n  name,\r\n  location,\r\n  about,\r\n  image,\r\n  hire_amount,\r\n  agency_worth,\r\n  isSellable,\r\n  hire,\r\n  index,\r\n  buyAgency,\r\n  owner,\r\n}) => {\r\n  return (\r\n    <BSCard className=\"border-0 agency my-2\">\r\n      <BSCard.Img\r\n        variant=\"top\"\r\n        src={image}\r\n        style={{ width: \"100%\", height: \"18rem\" }}\r\n      />\r\n      <BSCard.Body>\r\n        <BSCard.Title className=\"mb-3\">{name}</BSCard.Title>\r\n        <BSCard.Text>\r\n          <div>\r\n            <h6>\r\n              <span className=\"fw-bold\">Location:</span> {location}\r\n            </h6>\r\n          </div>\r\n          <div>\r\n            <h6 className=\"my-0 fw-bold\">What we do.</h6>\r\n            <span>{about}</span>\r\n          </div>\r\n        </BSCard.Text>\r\n        <div className=\"d-flex justify-content-between\">\r\n          {owner ? (\r\n            <h6 className=\"text-muted alert alert-secondary py-1 px-2\">\r\n              You own this Agency!\r\n            </h6>\r\n          ) : (\r\n            <>\r\n              <Button variant=\"success\" size=\"sm\" onClick={() => hire(index)}>\r\n                Hire Agency {hire_amount}cUSD\r\n              </Button>\r\n              <BuyAgency\r\n                name={name}\r\n                about={about}\r\n                imgUrl={image}\r\n                worth={agency_worth}\r\n                isSellable={isSellable}\r\n                buyAgency={buyAgency}\r\n                index={index}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n      </BSCard.Body>\r\n    </BSCard>\r\n  )\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\"\nimport \"./App.css\"\nimport Alert from \"react-bootstrap/Alert\"\nimport { Container, Row, Col } from \"react-bootstrap\"\nimport { Balance } from \"./Balance\"\nimport { RegisterAgency } from \"./RegisterAgency\"\nimport { Card } from \"./Card\"\nimport Web3 from \"web3\"\nimport BigNumber from \"bignumber.js\"\nimport { newKitFromWeb3 } from \"@celo/contractkit\"\nimport { useEffect, useState } from \"react\"\nimport housekeepingAbi from \"./contract/housekeepers.abi.json\"\nimport ierc20Abi from \"./contract/IERC20.abi.json\"\n\nfunction App() {\n  const cUSDContractAddress = \"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1\"\n  const deployAddress = \"0x78b4D7759d95FfE53CDaCdd8C237328678E74629\"\n  const [show, setShow] = useState(false)\n  const [kit, setKit] = useState()\n  const [contract, setContract] = useState()\n  const [msg, setMsg] = useState()\n  const [showNotification, setShowNotification] = useState(true)\n  const [balance, setBalance] = useState(0)\n  const [actionNotification, setActionNotification] = useState(false)\n  const [agencies, setAgencies] = useState([])\n  const [showApp, setShowApp] = useState(false)\n  const ERC20_DECIMAL = 18\n\n  // Connect Wallet Function\n  const connectCeloWallet = async () => {\n    if (window.celo) {\n      setMsg(\"âš ï¸ Please approve this DApp to use it.\")\n      try {\n        await window.celo.enable()\n        setShowNotification(false)\n        setShowApp(true)\n        const web3 = new Web3(window.celo)\n        let kit_ = newKitFromWeb3(web3)\n        const accounts = await kit_.web3.eth.getAccounts()\n        kit_.defaultAccount = accounts[0]\n        let contract_ = new kit_.web3.eth.Contract(\n          housekeepingAbi,\n          deployAddress\n        )\n        setKit(kit_)\n        setContract(contract_)\n      } catch (error) {\n        setMsg(`${error.message}`)\n      }\n    } else {\n      setMsg(\"âš ï¸ Please install the CeloExtensionWallet.\")\n    }\n  }\n\n  // Get Balance Function\n  const getBalance = async function () {\n    let totalBalance = await kit.getTotalBalance(kit.defaultAccount)\n    let cUSDBalance = totalBalance.cUSD.shiftedBy(-ERC20_DECIMAL).toFixed(2)\n    setBalance(cUSDBalance)\n  }\n\n  // Register Agency Function\n  const registerAgency = async (\n    name,\n    location,\n    info,\n    image,\n    isSellable,\n    worth,\n    fee\n  ) => {\n    const params = [\n      name,\n      location,\n      info,\n      image,\n      isSellable,\n      new BigNumber(isSellable ? worth : 1).shiftedBy(ERC20_DECIMAL).toString(),\n      new BigNumber(fee).shiftedBy(ERC20_DECIMAL).toString(),\n    ]\n    setActionNotification(true)\n    setMsg(`Registering Agency, ${name}...`)\n    try {\n      await contract.methods\n        .registerAgency(...params)\n        .send({ from: kit.defaultAccount })\n      setMsg(`Successfully registered Agency, ${name}...`)\n      await getAgencies_()\n      setTimeout(() => setShow(false), 1000)\n    } catch (error) {\n      setMsg(error.message)\n      console.log(error)\n    }\n  }\n\n  // Get All agency function\n  const getAgencies_ = async () => {\n    try {\n      const agencies = await contract.methods.getAgencies().call()\n      setAgencies(agencies)\n      console.log(new Array(agencies).reverse((a, b) => a + b))\n    } catch (error) {\n      console.log(error.message)\n    }\n  }\n\n  // Approve payment function\n  const approve = async (_price) => {\n    const cUSDContract = new kit.web3.eth.Contract(\n      ierc20Abi,\n      cUSDContractAddress\n    )\n    const result = await cUSDContract.methods\n      .approve(deployAddress, _price)\n      .send({ from: kit.defaultAccount })\n    return result\n  }\n\n  // Hire Agency Function\n  const hireAgency = async (index) => {\n    setShowNotification(true)\n    setMsg(\"âŒ› Waiting for payment approval...\")\n    try {\n      await approve(new BigNumber(agencies[index].hire_fee).toString())\n      setMsg(`âŒ› Awaiting payment for \"${agencies[index].agency_name}\"...`)\n    } catch (error) {\n      setMsg(`âš ï¸ ${error.message}.`)\n    }\n    try {\n      await contract.methods\n        .hireAgency(index)\n        .send({ from: kit.defaultAccount })\n      setMsg(\n        `ðŸŽ‰ You successfully hired \"${agencies[index].agency_name}\" for their services.`\n      )\n      getBalance()\n    } catch (error) {\n      setMsg(error.message)\n    }\n  }\n\n  // Buy Agency Function\n  const buyAgency = async (index, newName, newInfo, newImg, sellable) => {\n    setShowNotification(true)\n    setMsg(\"âŒ› Waiting for payment approval...\")\n    try {\n      await approve(new BigNumber(agencies[index].agency_worth).toString())\n      setMsg(`âŒ› Awaiting payment for \"${agencies[index].agency_name}\"...`)\n    } catch (error) {\n      setMsg(`âš ï¸ ${error.message}.`)\n    }\n    try {\n      await contract.methods\n        .buyAgency(index, newName, newInfo, newImg, sellable)\n        .send({ from: kit.defaultAccount })\n      setMsg(\n        `ðŸŽ‰ You successfully bought the \"${agencies[index].agency_name}\" agency.`\n      )\n      getBalance()\n      getAgencies_()\n    } catch (error) {\n      setMsg(error.message)\n    }\n  }\n\n  useEffect(() => {\n    connectCeloWallet()\n  }, [])\n  useEffect(() => {\n    if (kit && contract) {\n      getBalance()\n      getAgencies_()\n    }\n  }, [kit, contract])\n  return (\n    <Container>\n      <div className=\"d-flex align-items-center justify-content-between my-3\">\n        <h3>House Keepers</h3>\n        <Balance balance={balance} />\n      </div>\n      {showNotification && (\n        <>\n          <div className=\"mt-3\">\n            <Alert variant={\"warning\"}>{msg}</Alert>\n          </div>\n        </>\n      )}\n      {showApp && (\n        <>\n          <RegisterAgency\n            register={registerAgency}\n            msg={msg}\n            action={actionNotification}\n            show={show}\n            setShow={setShow}\n          />\n          <div className=\"my-4 agencies\">\n            <Row className=\"justify-content-center\">\n              {agencies.map((agency, key) => (\n                <Col\n                  key={key}\n                  xs={10}\n                  md={{ order: agencies.length - key, span: 4 }}\n                >\n                  <Card\n                    name={agency.agency_name}\n                    location={agency.location}\n                    about={agency.agency_info}\n                    hire_amount={new BigNumber(agency.hire_fee)\n                      .shiftedBy(-ERC20_DECIMAL)\n                      .toString()}\n                    agency_worth={new BigNumber(agency.agency_worth)\n                      .shiftedBy(-ERC20_DECIMAL)\n                      .toString()}\n                    isSellable={agency.sellable}\n                    image={agency.agency_image}\n                    hire={hireAgency}\n                    index={key}\n                    buyAgency={buyAgency}\n                    owner={agency.agency_address === kit.defaultAccount}\n                  />\n                </Col>\n              ))}\n            </Row>\n          </div>\n        </>\n      )}\n    </Container>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}